<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Fast Fourier Transform</title>

  <script src="js/jquery.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/jquery.flot.min.js"></script>
  <script src="js/jquery.flot.tooltip.min.js"></script>
  <script src="js/complex.js"></script>
  <script src="js/fft.js"></script>
  <script src="js/application.js"></script>
  <link rel="stylesheet" href="css/bootstrap.min.css"/>

  <style>
    body { padding-bottom: 30px; }
    .parameters-form { position: relative; }
    .showoff { display: none; position: relative; }
    .graph { height: 200px; }

    .param-label {
      display: inline-block;
      width: 180px;
      text-align: right;
      background-color: #f5f5f5;
      padding: 3px;
    }

    .parameters { margin-left: 0; }
    .parameters li { list-style-type: none; background-color: white; border-bottom: 2px solid #F5F5F5; }
  </style>

</head>
<body>

  <div class="container">

    <div class="row">
      <div class="span12">
        <div class="page-header">
          <h1>Fast Fourier Transform <small>IR3DOS</small></h1>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="span12">
        <div class="well parameters-form">

          <h4>Useful functions</h4>
          <div class="row-fluid">
            <div class="span4">
              <ul>
                <li>u(t) - Heaviside function</li>
                <li>delta(t) - Dirac delta function</li>
              </ul>
            </div>
            <div class="span4">
              <ul>
                <li>sin(t), cos(t), tan(t), asin(x), acos(x), atan(x)</li>
                <li>exp(x), log(x), pow(x, y), sqrt(x)</li>
              </ul>
            </div>
            <div class="span4">
              <ul>
                <li>PI - 3.1415...</li>
                <li>SQRT2</li>
              </ul>
            </div>
          </div> <!-- useful functions -->

          <form class="form-horizontal">
          <fieldset>

          <!-- Form Name -->
          <legend>Parameters</legend>

          <!-- Text input-->
          <div class="control-group">
            <label class="control-label">Signal <strong>x(t)</strong></label>
            <div class="controls">
              <input id="equation" name="equation" type="text" placeholder="" class="input-xxlarge add-popover" required
                data-title="x(t)" data-content="Required and must be a valid expression.">
              <span title="Required" class="badge badge-important">*</span>
              <p class="help-block">Example: sin(2 * PI * 50 * t)</p>
            </div>
          </div>

          <!-- Text input-->
          <div class="control-group">
            <label class="control-label">Sampling rate <strong>f<sub>s</sub></strong> [Hz]</label>
            <div class="controls">
              <input id="sampling-rate" name="sampling-rate" type="text" placeholder="" required class="add-popover"
                data-title="Sampling rate f<sub>s</sub>" data-content="Required and must be greater than 0.">
              <span title="Required" class="badge badge-important">*</span>
            </div>
          </div>

          <!-- Text input-->
          <div class="control-group">
            <label class="control-label">Start sampling at <strong>t<sub>s</sub></strong> [s]</label>
            <div class="controls">
              <input id="sample-start-time" name="sample-start-time" type="text" placeholder="" required class="add-popover"
                data-title="Start sample time t<sub>s</sub>" data-content="Required, can be negative.">
              <span title="Required" class="badge badge-important">*</span>
              <p class="help-block">The discrete signal will start at x(t<sub>s</sub>)</p>
            </div>
          </div>

          <!-- Text input-->
          <div class="control-group">
            <label class="control-label">Sample count <strong>N<sub>s</sub></strong></label>
            <div class="controls">
              <input id="sample-count" name="sample-count" type="text" placeholder="" required class="add-popover"
                data-title="Sample count N<sub>s</sub>" data-content="Required.">
              <span title="Required" class="badge badge-important">*</span>
              <p class="help-block">Each sample for the discrete signal will equal to x(t<sub>s</sub> + k/f<sub>s</sub>) where k = 0..N<sub>s</sub> - 1</p>
            </div>
          </div>

          <!-- Text input-->
          <div class="control-group">
            <label class="control-label">Number of FFT terms <strong>N</strong></label>
            <div class="controls">
              <input id="fft-terms" name="fft-terms" type="text" placeholder="" class="add-popover"
                data-title="FFT terms N" data-content="Must be power of 2 and greater than N<sub>s</sub>. Not required.">
              <p class="help-block">Must be power of 2 and greater than N<sub>s</sub>. Not required.</p>
            </div>
          </div>

          <div class="control-group">
            <div class="controls">
              <button class="btn btn-primary" id="draw">Draw and transform</button>
            </div>
          </div>

          </fieldset>
          </form>

        </div> <!-- well -->

        <div class="showoff">
          <div class="well parameters-final">
            {{ insert template }}
          </div> <!-- well -->

          <div class="row">
            <div class="span12">

              <h3 id="original-signal-heading">Original signal x(t)</h3>
              <div id="original-signal" class="graph"></div>

            </div>
          </div> <!-- row -->

          <div class="row">
            <div class="span12">

              <h3 id="discrete-signal-heading">Discrete signal x(t + k/f<sub>s</sub>)</h3>
              <div id="discrete-signal" class="graph"></div>

            </div>
          </div> <!-- row -->

          <div class="row">
            <div class="span12">

              <h3 id="magnitude-spectrum-heading">Magnitude spectrum computed using FFT</h3>
              <div id="magnitude-spectrum" class="graph"></div>

            </div>
          </div> <!-- row -->

        </div> <!-- .showoff -->
    </div>

  </div>

  <script type="text/template" id="parameters">
    <h4>Parameters</h4>

    <ul class="parameters">
      <li><span class="param-label">x(t) =</span> $equation</li>
      <li><span class="param-label">Sampling rate f<sub>s</sub> =</span> $sampling_rate Hz</li>
      <li><span class="param-label">Started sampling at t<sub>s</sub> =</span> $t_start s</li>
      <li><span class="param-label">Ended sampling at t<sub>e</sub> =</span> $t_end s</li>
      <li><span class="param-label">Sample count N<sub>s</sub> =</span> $sample_count</li>
      <li><span class="param-label">FFT terms N =</span> $fft_terms</li>
    </ul>

    <button class="btn btn-primary back">Change parameters</button>
  </script>

</body>
</html>
